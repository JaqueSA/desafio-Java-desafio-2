<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
       <link rel="stylesheet" href="stylo.css">
    <link rel="stylesheet" href="java.js">
    <title>Desafio 2</title>
</head>
<script>
    window.onload = function(){
    //https://viacep.com.br/ws/${cep}/json/;

    function resultadoCep(dadosCep){

        for(let campo in dadosCep){
            if(document.querySelector(`#${campo}`)){
                document.querySelector(`#${campo}`).value = dadosCep[campo]
            }
        }

    }


let dadosCep = async function(cep){

    let url = `https://viacep.com.br/ws/${cep}/json`;
    
    try{
   
    let dadosFetch = await fetch(url);
    let dadosJson = await dadosFetch.json();
    resultadoCep(dadosJson);
    }catch(error){
        alert(error);
    }
    

}

    //dadosCep('87053660')
    const btnBuscar = document.querySelector('#buscarCep');
    const CEP_     = document.querySelector('#NumeroCep');
    btnBuscar.addEventListener('click', function(){
       
        dadosCep(CEP_.value);

    })
}
</script>
<body>
    <header class="flex align-itens-center">
        <h1 class="center">ME ACHA!</h1>
        <h2 class="center">Encontre um endere√ßo pelo numero do cep</h2>
        <div>
            <span class="material-icons icons-list icon-search flex align-itens-center">
                travel_explore
                </span>
        </div>
    </header>
    <section id="search-area" class="flex align-itens-center ">
        <form method="get" name="busca">
            <fieldset id="campos">
                <label for="cep">Cep</label>
                <input type="text" required class="txt" id="NumeroCep" name="cep" value="" />
                <label for="rua">Rua</label>
                <input type="text" required class="txt" id="logradouro" name="rua" value="" />
                <label for="bairro">Bairro</label>
                <input type="text" required class="txt" id="bairro" name="bairro" value="" />
                <label for="city">Cidade</label>
                <input type="text" required class="txt" id="localidade" name="cidade" value="" />
                <label for="estado">Estado</label>
                <input type="text" required class="txt" id="uf" name="estado" value="" />
                <input class= "botao flex"  type="button" id="buscarCep" value="BUSCAR" class="txt">
                <label for=""></label>
            </fieldset>
        </form>
    </section>
</body>
</html>
</html>